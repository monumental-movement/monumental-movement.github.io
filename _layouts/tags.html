---
title: "Tags"
layout: default
permalink: "/tags.html"
---

{% comment %}
言語判定：
- /en/ をURLに含むか、page.langがenなら英語
- それ以外は日本語
{% endcomment %}
{% if page.lang == "en" or page.url contains '/en/' %}
  {% assign lang = "en" %}
{% elsif page.lang == "es" or page.url contains '/es/' %}
  {% assign lang = "es" %}
{% elsif page.lang == "ko" or page.url contains '/ko/' %}
  {% assign lang = "ko" %}
{% else %}
  {% assign lang = "ja" %}
{% endif %}

{% comment %}
全タグをループし、langが一致する投稿のみ抽出
{% endcomment %}
{% for tag in site.tags %}
  {% assign filtered_posts = "" | split: "" %}
  {% for post in tag[1] %}
    {% if post.lang == lang %}
      {% assign filtered_posts = filtered_posts | push: post %}
    {% endif %}
  {% endfor %}

  {% if filtered_posts != empty %}
    <h4 class="mt-5 mb-neg-30" id="{{ tag[0] | replace: " ","-" }}">
      <span class="text-capitalize text-small badge badge-primary">{{ tag[0] }}</span>
    </h4>
    <div class="blog-grid-container">
      {% for post in filtered_posts %}
        {% if post.title %}
          {% if group == null or group == post.group %}
            {% include postbox.html %}
          {% endif %}
        {% endif %}
      {% endfor %}
      {% assign group = nil %}
    </div>
  {% endif %}
{% endfor %}
