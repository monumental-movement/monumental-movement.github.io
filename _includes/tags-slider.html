<div class="tag-slider">
  {% if page.url contains '/en/' %}
    {% assign posts = site.posts | where_exp: "p", "p.path contains 'en/_posts'" %}
  {% else %}
    {% assign posts = site.posts | where_exp: "p", "p.path contains '_posts' and p.path contains '/en/' == false" %}
  {% endif %}

  {% assign tags = "" | split: "" %}
  {% for post in posts %}
    {% for tag in post.tags %}
      {% unless tags contains tag %}
        {% assign tags = tags | push: tag %}
      {% endunless %}
    {% endfor %}
  {% endfor %}

  {% assign tags = tags | sort %}
  {% for tag in tags %}
    <a href="{% if page.url contains '/en/' %}{{ site.baseurl }}/en/tag/{{ tag | slugify }}/{% else %}{{ site.baseurl }}/tag/{{ tag | slugify }}/{% endif %}" class="tag">
      {{ tag }}
    </a>
  {% endfor %}
</div>

<style>
.tag-slider {
  display: grid;
  grid-template-rows: repeat(3, auto);
  overflow: hidden;
  height: 6em;
  position: relative;
  padding: 5px 0;
}

/* ğŸŒˆ Monumental Movement ãƒˆãƒ¼ãƒ³ã«åˆã‚ã›ãŸã‚¿ã‚° */
.tag {
  display: inline-block;
  padding: 6px 14px;
  margin: 5px;
  border-radius: 25px;
  font-size: 0.9rem;
  color: #fff;
  background: linear-gradient(135deg, #0ff, #7b2ff7);
  white-space: nowrap;
  text-decoration: none;
  box-shadow: 0 0 12px rgba(0, 255, 255, 0.3);
  animation: scroll-left 25s linear infinite;
  transition: transform 0.3s, box-shadow 0.3s, background 0.6s, color 0.3s;
}

/* å„æ®µã®é€Ÿåº¦ãƒ»æ–¹å‘ã‚’ãšã‚‰ã—ã¦ç«‹ä½“æ„Ÿ */
.tag:nth-child(3n+1) {
  animation-duration: 25s;
  animation-direction: normal;
}
.tag:nth-child(3n+2) {
  animation-duration: 22s;
  animation-direction: reverse;
}
.tag:nth-child(3n+3) {
  animation-duration: 28s;
  animation-direction: normal;
}

/* ğŸ’« ãƒ›ãƒãƒ¼æ™‚ï¼šç™ºå…‰ï¼†ã‚°ãƒªãƒƒãƒæ„Ÿ */
.tag:hover {
  transform: scale(1.1);
  background: linear-gradient(135deg, #ff00e6, #00f5ff);
  box-shadow: 0 0 20px rgba(255, 0, 230, 0.8), 0 0 30px rgba(0, 245, 255, 0.6);
  text-shadow: 0 0 6px #fff;
}

/* ğŸ’¡ è¦ªãƒ›ãƒãƒ¼ã§ã‚¹ãƒ©ã‚¤ãƒ‰åœæ­¢ */
.tag-slider:hover .tag {
  animation-play-state: paused;
}

/* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
@keyframes scroll-left {
  from { transform: translateX(100%); }
  to { transform: translateX(-100%); }
}

/* èƒŒæ™¯ãŒé»’ã®æ™‚ã§ã‚‚è¦–èªæ€§UP */
body, .tag-slider {
  background-color: transparent;
}
</style>
