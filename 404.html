---
layout: default
title: 404
permalink: /404.html
---
<style>
    .newsletter, .footer {
        display:none;
    }
</style>
<script>
    (function() {
      const currentUrl = window.location.href;

      // 無限リダイレクト防止
      if (currentUrl.includes("?tc=true")) return;

      try {
        const url = new URL(currentUrl);
        const path = url.pathname;

        // / で区切り、空要素を除外
        const segments = path.split('/').filter(s => s.length > 0);
        if (segments.length === 0) return;

        // 最後のセグメント（記事タイトル）を取得
        const lastIndex = segments.length - 1;
        const lastSegment = segments[lastIndex];

        // 単語単位で頭文字大文字化、ただし "ep" は "EP" に
        const titleCased = lastSegment
          .split('-')
          .map(word => {
            if (word.toLowerCase() === "ep") return "EP";
            return word.charAt(0).toUpperCase() + word.slice(1);
          })
          .join('-');

        // 最後のセグメントを置き換え
        segments[lastIndex] = titleCased;

        // カテゴリ部分は小文字化（最後以外）
        const newPath = '/' + segments
          .map((seg, i) => i === lastIndex ? seg : seg.toLowerCase())
          .join('/') + '/';

        // 新しいURL構築
        const newUrl = url.origin + newPath + (url.search ? url.search + "&tc=true" : "?tc=true");

        // 変換結果が異なればリダイレクト
        if (newUrl !== currentUrl) {
          window.location.replace(newUrl);
        }
      } catch (e) {
        console.error("URL変換中にエラー:", e);
      }
    })();
  </script>
<div class="text-center">
<h1 class="mt-5"><span class="badge badge-dark font-weight-normal">404</span></h1>
<h1 class="display-1 mt-4 mb-4"> Page not found!</h1>
<p>Please use the search bar from the bottom left or visit our <a href="{{site.baseurl}}/">homepage</a>!</p>
</div>
